/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t){return"function"==typeof t}var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function i(t){setTimeout((function(){throw t}),0)}var s={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;i(t)},complete:function(){}},u=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function c(t){return null!==t&&"object"==typeof t}var l=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,o=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,o instanceof t)o.remove(this);else if(null!==o)for(var f=0;f<o.length;++f){o[f].remove(this)}if(n(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(t){e=t instanceof l?h(t.errors):[t]}}if(u(a)){f=-1;for(var d=a.length;++f<d;){var p=a[f];if(c(p))try{p.unsubscribe()}catch(t){e=e||[],t instanceof l?e=e.concat(h(t.errors)):e.push(t)}}}if(e)throw new l(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function h(t){return t.reduce((function(t,e){return t.concat(e instanceof l?e.errors:e)}),[])}var f=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),d=function(t){function n(e,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s;break;case 1:if(!e){i.destination=s;break}if("object"==typeof e){e instanceof n?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new p(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new p(i,e,r,o)}return i}return e(n,t),n.prototype[f]=function(){return this},n.create=function(t,e,r){var o=new n(t,e,r);return o.syncErrorThrowable=!1,o},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},n}(a),p=function(t){function r(e,r,o,i){var u,c=t.call(this)||this;c._parentSubscriber=e;var l=c;return n(r)?u=r:r&&(u=r.next,o=r.error,i=r.complete,r!==s&&(n((l=Object.create(r)).unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=u,c._error=o,c._complete=i,c}return e(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):i(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;i(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw t;i(t)}},r.prototype.__tryOrSetError=function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(i(e),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(d);var y=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function v(t){return t}function b(t){return 0===t.length?v:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var g=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof d)return t;if(t[f])return t[f]()}return t||e||n?new d(t,e,n):new d(s)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof d?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=m(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[y]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:b(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=m(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function m(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var w=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),_=function(t){function n(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return e(n,t),n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},n}(a),$=function(t){function n(e){var n=t.call(this,e)||this;return n.destination=e,n}return e(n,t),n}(d),x=function(t){function n(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return e(n,t),n.prototype[f]=function(){return new $(this)},n.prototype.lift=function(t){var e=new S(this,this);return e.operator=t,e},n.prototype.next=function(t){if(this.closed)throw new w;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},n.prototype.error=function(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},n.prototype.complete=function(){if(this.closed)throw new w;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},n.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},n.prototype._trySubscribe=function(e){if(this.closed)throw new w;return t.prototype._trySubscribe.call(this,e)},n.prototype._subscribe=function(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),a.EMPTY):this.isStopped?(t.complete(),a.EMPTY):(this.observers.push(t),new _(this,t))},n.prototype.asObservable=function(){var t=new g;return t.source=this,t},n.create=function(t,e){return new S(t,e)},n}(g),S=function(t){function n(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return e(n,t),n.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},n.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},n.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},n.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.EMPTY},n}(x),E=function(t){function n(e){var n=t.call(this)||this;return n._value=e,n}return e(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value},n.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},n}(x),O=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return e(n,t),n.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},n.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},n.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},n.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},n.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},n}(function(t){function n(e,n){return t.call(this)||this}return e(n,t),n.prototype.schedule=function(t,e){return this},n}(a)),k=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),C=function(t){function n(e,r){void 0===r&&(r=k.now);var o=t.call(this,e,(function(){return n.delegate&&n.delegate!==o?n.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return e(n,t),n.prototype.schedule=function(e,r,o){return void 0===r&&(r=0),n.delegate&&n.delegate!==this?n.delegate.schedule(e,r,o):t.prototype.schedule.call(this,e,r,o)},n.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},n}(k),P=new g((function(t){return t.complete()}));function L(t){return t?function(t){return new g((function(e){return t.schedule((function(){return e.complete()}))}))}(t):P}function R(t){return t&&"function"==typeof t.schedule}var A=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function T(t,e){return new g((function(n){var r=new a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function I(t,e){return e?T(t,e):new g(A(t))}function j(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return R(n)?(t.pop(),T(t,n)):I(t)}var H=new C(O),B=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function M(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new N(t,e))}}var N=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.project,this.thisArg))},t}(),D=function(t){function n(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return e(n,t),n.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(d);function V(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var W=V(),F=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function U(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var G=function(t){if(t&&"function"==typeof t[y])return n=t,function(t){var e=n[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(F(t))return A(t);if(U(t))return function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i),e}}(t);if(t&&"function"==typeof t[W])return e=t,function(t){for(var n=e[W]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r=c(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function q(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new g((function(n){var r=new a;return r.add(e.schedule((function(){var o=t[y]();r.add(o.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(U(t))return function(t,e){return new g((function(n){var r=new a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(F(t))return T(t,e);if(function(t){return t&&"function"==typeof t[W]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new g((function(n){var r,o=new a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(e.schedule((function(){r=t[W](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function K(t,e){return e?q(t,e):t instanceof g?t:new g(G(t))}var X=function(t){function n(e){var n=t.call(this)||this;return n.parent=e,n}return e(n,t),n.prototype._next=function(t){this.parent.notifyNext(t)},n.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},n}(d),Y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.notifyNext=function(t){this.destination.next(t)},n.prototype.notifyError=function(t){this.destination.error(t)},n.prototype.notifyComplete=function(){this.destination.complete()},n}(d);function z(t,e){if(!e.closed)return t instanceof g?t.subscribe(e):G(t)(e)}function J(t){return new g((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?K(n):L()).subscribe(e)}))}function Z(t,e){var n;return void 0===t&&(t=0),void 0===e&&(e=H),(u(n=t)||!(n-parseFloat(n)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=H),new g((function(n){return n.add(e.schedule(Q,t,{subscriber:n,counter:0,period:t})),n}))}function Q(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var tt=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new et(t,this.compare,this.keySelector))},t}(),et=function(t){function n(e,n,r){var o=t.call(this,e)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return e(n,t),n.prototype.compare=function(t,e){return t===e},n.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},n}(d);function nt(t){return function(e){return 0===t?L():e.lift(new rt(t))}}var rt=function(){function t(t){if(this.total=t,this.total<0)throw new B}return t.prototype.call=function(t,e){return e.subscribe(new ot(t,this.total))},t}(),ot=function(t){function n(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return e(n,t),n.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},n}(d);function it(t){return function(e){return e.lift(new st(t))}}var st=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new ut(t,this.total))},t}(),ut=function(t){function n(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return e(n,t),n.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},n}(d);function ct(t,e){return"function"==typeof e?function(n){return n.pipe(ct((function(n,r){return K(t(n,r)).pipe(M((function(t,o){return e(n,t,r,o)})))})))}:function(e){return e.lift(new lt(t))}}var lt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new at(t,this.project))},t}(),at=function(t){function n(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return e(n,t),n.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e)},n.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new X(this),r=this.destination;r.add(n),this.innerSubscription=z(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},n.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},n.prototype._unsubscribe=function(){this.innerSubscription=void 0},n.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},n.prototype.notifyNext=function(t){this.destination.next(t)},n}(Y);var ht=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new ft(t),r=z(this.notifier,new X(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),ft=function(t){function n(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return e(n,t),n.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},n.prototype.notifyComplete=function(){},n}(Y),dt={leading:!0,trailing:!1};var pt=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new yt(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),yt=function(t){function n(e,n,r,o,i){var s=t.call(this,e)||this;return s.duration=n,s.scheduler=r,s.leading=o,s.trailing=i,s._hasTrailingValue=!1,s._trailingValue=null,s}return e(n,t),n.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(vt,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},n.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},n.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},n}(d);function vt(t){t.subscriber.clearThrottle()}function bt(t){return null==t}function gt(t,e,n=!1){if(n&&bt(t)&&bt(e))return!0;var r,o,i,s;function u(t,e){var n;if(isNaN(t)&&isNaN(e)&&"number"==typeof t&&"number"==typeof e)return!0;if(t===e)return!0;if("function"==typeof t&&"function"==typeof e||t instanceof Date&&e instanceof Date||t instanceof RegExp&&e instanceof RegExp||t instanceof String&&e instanceof String||t instanceof Number&&e instanceof Number)return t.toString()===e.toString();if(!(t instanceof Object&&e instanceof Object))return!1;if(t.isPrototypeOf(e)||e.isPrototypeOf(t))return!1;if(t.constructor!==e.constructor)return!1;if(t.prototype!==e.prototype)return!1;if(i.indexOf(t)>-1||s.indexOf(e)>-1)return!1;for(n in e){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if(typeof e[n]!=typeof t[n])return!1}for(n in t){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if(typeof e[n]!=typeof t[n])return!1;switch(typeof t[n]){case"object":case"function":if(i.push(t),s.push(e),!u(t[n],e[n]))return!1;i.pop(),s.pop();break;default:if(t[n]!==e[n])return!1}}return!0}if(arguments.length<1)return!0;for(r=1,o=arguments.length;r<o;r++)if(i=[],s=[],!u(arguments[0],arguments[r]))return!1;return!0}class mt extends E{constructor(t,e={}){super(t),this.onNext=e.onNext,this.set=this.next}next(t){super.next(t),this.onNext&&this.onNext(t)}update(t){super.next(t(this.value))}set(t){}lift(t){const e=new mt(this.value);return e.operator=t,e.source=this,e}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function wt(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}c((r=r.apply(t,e||[])).next())}))}let _t,$t="https://dev-platform-lio.staging.tribefire-aws.cloud/services";function xt(t,e){return wt(this,void 0,void 0,(function*(){return t?t.openPersistenceSession(e):null}))}function St(t,e){return wt(this,void 0,void 0,(function*(){const n=$T.com.braintribe.model.securityservice.Logout.create();n.sessionId=t.getUserSession().sessionId,e.evaluate(n).then((t=>{t&&(localStorage.removeItem("tfSessionId"),localStorage.removeItem("currentUser"))}))}))}console.log({TF_SERVICE_ENDPOINT:"https://dev-platform-lio.staging.tribefire-aws.cloud/services",production:!0,buildStandalone:!1,forLocalTomcat:!1});let Et=new mt(null),Ot=new mt(null);Et.pipe(it(1),ct((t=>t?K(function(t){return wt(this,void 0,void 0,(function*(){const e=t.getUserSession().user,n=yield xt(t,"auth");return e.sessionRoles=n.getSessionAuthorization().getUserRoles().toArray(),e.pictureUrl=`https://dev-platform-lio.staging.tribefire-aws.cloud/services/user-image?name=${e.name}&sessionId=${t.getUserSession().sessionId}`,e}))}(t)):j(null)))).subscribe(Ot);let kt=new mt(!1),Ct=new mt(!1);const Pt=Et.pipe(M((t=>Boolean(t))),(function(t){return t.lift(new tt(Lt,Rt))}));var Lt,Rt;function At(t){kt.next(!0),Ct.next(!0),function(t){var e=$T.tribefire.js.model.config.RemoteSessionConfig.create();return e.credentials=$tf.credentials.sessionId(t),e.servicesUrl=$t,$tf.remote.sessionFactory.open(e).then((t=>(_t=t,_t)))}(t).catch((t=>(console.error(t),null))).then((t=>{Et.next(t),kt.next(!1),Ct.next(!1)}))}const Tt=new mt(null);function It(){}Tt.subscribe((t=>{var e,n,r;t&&null!==(r=t!==(null===(n=null===(e=Et.value)||void 0===e?void 0:e.getUserSession())||void 0===n?void 0:n.sessionId))&&void 0!==r&&r&&At(t)})),Et.pipe(it(1)).subscribe((t=>{var e,n;const r=null!==(n=null===(e=null==t?void 0:t.getUserSession())||void 0===e?void 0:e.sessionId)&&void 0!==n?n:null;r!==Tt.value&&Tt.next(r)})),new class{constructor({streams:t,localStorageKeyGetter:e}){this.localStorageStreams=new Set,this.streamingValuesStream=new E({}),this.isStreamManagerInit=!1,this.localStorageKeyGetter=e;const n=new Set;this.streams=t.reduce(((t,{name:e,stream:r,bindToLocalStorage:o})=>{if(n.has(e))throw Error(`stream name must be unique. here are two or more streams with name "${e}"`);return o&&this.localStorageStreams.add(e),t[e]=r,t}),{}),this.subscriptions=Object.entries(this.streams).map((([t,e])=>e.pipe().subscribe((e=>this.handleStreamEmit(t,e))))),this.rehydrateStreamsFromLocalStorage(),this.streamingValuesSubscription=this.streamingValuesStream.pipe(function(t,e,n){return void 0===e&&(e=H),void 0===n&&(n=dt),function(r){return r.lift(new pt(t,e,n.leading,n.trailing))}}(10)).subscribe((t=>{const e=this.localStorageKeyGetter(t);var n,r;e&&this.saveToLocalStorage(e,(n=t,r=Array.from(this.localStorageStreams),n?r.reduce((function(t,e){return t[e]=n[e],t}),{}):{}))})),this.isStreamManagerInit=!0}destroy(){this.subscriptions.forEach((t=>t.unsubscribe())),this.streamingValuesSubscription.unsubscribe()}readFromLocalStorage(t){const e="Tf.StreamManager:"+t,n=localStorage.getItem(e);if(null===n)return null;try{return JSON.parse(n)}catch(t){return console.error(`Error parsing localStorage value.\nlocalStorage[${e}] = "${n}"`),console.trace(t),null}}saveToLocalStorage(t,e){const n="Tf.StreamManager:"+t;let r;try{r=JSON.stringify(e)}catch(t){console.trace(t)}return console.log("writing to localStorage",r),localStorage.setItem("Tf.StreamManager:_lastActiveKey",t),localStorage.setItem(n,r)}rehydrateStreamsFromLocalStorage(){const t=localStorage.getItem("Tf.StreamManager:_lastActiveKey");if(t){const e=this.readFromLocalStorage(t);if(!e||"object"!=typeof e)return void console.error('Invalid localStorage data for key "localStorageValues" of value =',e);const n={};Object.entries(this.streams).map((([t,r])=>{var o;n[t]=null!==(o=e[t])&&void 0!==o?o:null,e.hasOwnProperty(t)&&r.next(e[t])})),this.streamingValuesStream.next(n)}this.isStreamManagerInit=!0}handleStreamEmit(t,e){const n=this.streamingValuesStream.value;console.log("handleStreamEmit",{streamName:t,value:e}),n[t]!==e&&this.streamingValuesStream.next(Object.assign(Object.assign({},n),{[t]:e}))}}({localStorageKeyGetter:({user:t})=>{var e;return null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null},streams:[{name:"sessionId",stream:Tt,bindToLocalStorage:!0},{name:"user",stream:Ot,bindToLocalStorage:!1}]}),Tt.subscribe((t=>console.log("sessionIdStream",t)));const jt=t=>t;function Ht(t,e){for(const n in e)t[n]=e[n];return t}function Bt(t){return t()}function Mt(){return Object.create(null)}function Nt(t){t.forEach(Bt)}function Dt(t){return"function"==typeof t}function Vt(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function Wt(t,...e){if(null==t)return It;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ft(t,e,n){t.$$.on_destroy.push(Wt(e,n))}function Ut(t,e,n,r){if(t){const o=Gt(t,e,n,r);return t[0](o)}}function Gt(t,e,n,r){return t[1]&&r?Ht(n.ctx.slice(),t[1](r(e))):n.ctx}function qt(t,e,n,r,o,i,s){const u=function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(e,r,o,i);if(u){const o=Gt(e,n,r,s);t.p(o,u)}}const Kt="undefined"!=typeof window;let Xt=Kt?()=>window.performance.now():()=>Date.now(),Yt=Kt?t=>requestAnimationFrame(t):It;const zt=new Set;function Jt(t){zt.forEach((e=>{e.c(t)||(zt.delete(e),e.f())})),0!==zt.size&&Yt(Jt)}function Zt(t,e){t.appendChild(e)}function Qt(t,e,n){t.insertBefore(e,n||null)}function te(t){t.parentNode.removeChild(t)}function ee(t){return document.createElement(t)}function ne(t){return document.createTextNode(t)}function re(){return ne(" ")}function oe(){return ne("")}function ie(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function se(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ue(t,e,n){e in t?t[e]=n:se(t,e,n)}function ce(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function le(t,e){t.value=null==e?"":e}function ae(t,e,n){t.classList[n?"add":"remove"](e)}const he=new Set;let fe,de=0;function pe(t,e,n,r,o,i,s,u=0){const c=16.666/r;let l="{\n";for(let t=0;t<=1;t+=c){const r=e+(n-e)*i(t);l+=100*t+`%{${s(r,1-r)}}\n`}const a=l+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${u}`,f=t.ownerDocument;he.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(ee("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${a}`,d.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${h} ${r}ms linear ${o}ms 1 both`,de+=1,h}function ye(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),de-=o,de||Yt((()=>{de||(he.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),he.clear())})))}function ve(t){fe=t}function be(){if(!fe)throw new Error("Function called outside component initialization");return fe}function ge(t){be().$$.on_destroy.push(t)}function me(t,e){be().$$.context.set(t,e)}const we=[],_e=[],$e=[],xe=[],Se=Promise.resolve();let Ee=!1;function Oe(){Ee||(Ee=!0,Se.then(Re))}function ke(){return Oe(),Se}function Ce(t){$e.push(t)}let Pe=!1;const Le=new Set;function Re(){if(!Pe){Pe=!0;do{for(let t=0;t<we.length;t+=1){const e=we[t];ve(e),Ae(e.$$)}for(ve(null),we.length=0;_e.length;)_e.pop()();for(let t=0;t<$e.length;t+=1){const e=$e[t];Le.has(e)||(Le.add(e),e())}$e.length=0}while(we.length);for(;xe.length;)xe.pop()();Ee=!1,Pe=!1,Le.clear()}}function Ae(t){if(null!==t.fragment){t.update(),Nt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ce)}}let Te;function Ie(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const je=new Set;let He;function Be(){He={r:0,c:[],p:He}}function Me(){He.r||Nt(He.c),He=He.p}function Ne(t,e){t&&t.i&&(je.delete(t),t.i(e))}function De(t,e,n,r){if(t&&t.o){if(je.has(t))return;je.add(t),He.c.push((()=>{je.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const Ve={duration:0};function We(t,e,n,r){let o=e(t,n),i=r?0:1,s=null,u=null,c=null;function l(){c&&ye(t,c)}function a(t,e){const n=t.b-i;return e*=Math.abs(n),{a:i,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(e){const{delay:n=0,duration:r=300,easing:h=jt,tick:f=It,css:d}=o||Ve,p={start:Xt()+n,b:e};e||(p.group=He,He.r+=1),s||u?u=p:(d&&(l(),c=pe(t,i,e,r,n,h,d)),e&&f(0,1),s=a(p,r),Ce((()=>Ie(t,e,"start"))),function(t){let e;0===zt.size&&Yt(Jt),new Promise((n=>{zt.add(e={c:t,f:n})}))}((e=>{if(u&&e>u.start&&(s=a(u,r),u=null,Ie(t,s.b,"start"),d&&(l(),c=pe(t,i,s.b,s.duration,0,h,o.css))),s)if(e>=s.end)f(i=s.b,1-i),Ie(t,s.b,"end"),u||(s.b?l():--s.group.r||Nt(s.group.c)),s=null;else if(e>=s.start){const t=e-s.start;i=s.a+s.d*h(t/s.duration),f(i,1-i)}return!(!s&&!u)})))}return{run(t){Dt(o)?(Te||(Te=Promise.resolve(),Te.then((()=>{Te=null}))),Te).then((()=>{o=o(),h(t)})):h(t)},end(){l(),s=u=null}}}function Fe(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const s=t[i],u=e[i];if(u){for(const t in s)t in u||(r[t]=1);for(const t in u)o[t]||(n[t]=u[t],o[t]=1);t[i]=u}else for(const t in s)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function Ue(t){return"object"==typeof t&&null!==t?t:{}}function Ge(t){t&&t.c()}function qe(t,e,n){const{fragment:r,on_mount:o,on_destroy:i,after_update:s}=t.$$;r&&r.m(e,n),Ce((()=>{const e=o.map(Bt).filter(Dt);i?i.push(...e):Nt(e),t.$$.on_mount=[]})),s.forEach(Ce)}function Ke(t,e){const n=t.$$;null!==n.fragment&&(Nt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Xe(t,e,n,r,o,i,s=[-1]){const u=fe;ve(t);const c=e.props||{},l=t.$$={fragment:null,ctx:null,props:i,update:It,not_equal:o,bound:Mt(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:Mt(),dirty:s,skip_bound:!1};let a=!1;if(l.ctx=n?n(t,c,((e,n,...r)=>{const i=r.length?r[0]:n;return l.ctx&&o(l.ctx[e],l.ctx[e]=i)&&(!l.skip_bound&&l.bound[e]&&l.bound[e](i),a&&function(t,e){-1===t.$$.dirty[0]&&(we.push(t),Oe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],l.update(),a=!0,Nt(l.before_update),l.fragment=!!r&&r(l.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);l.fragment&&l.fragment.l(t),t.forEach(te)}else l.fragment&&l.fragment.c();e.intro&&Ne(t.$$.fragment),qe(t,e.target,e.anchor),Re()}ve(u)}class Ye{$destroy(){Ke(this,1),this.$destroy=It}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class ze extends Ye{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}function Je(t,{delay:e=0,duration:n=400,easing:r=jt}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*o}}function Ze(t){let e,n,r,o,i,s,u,c,l,a,h,f=t[0].closeButton&&Qe(t);const d=[t[2]];var p=t[1];function y(t){let e={};for(let t=0;t<d.length;t+=1)e=Ht(e,d[t]);return{props:e}}return p&&(s=new p(y())),{c(){e=ee("div"),n=ee("div"),r=ee("div"),f&&f.c(),o=re(),i=ee("div"),s&&Ge(s.$$.fragment),se(i,"class","content svelte-1d6rse5"),se(i,"style",t[12]),ae(i,"rounded-corners",t[0].roundedCorners),se(r,"class","window svelte-1d6rse5"),se(r,"role","dialog"),se(r,"aria-modal","true"),se(r,"style",t[11]),ae(r,"rounded-corners",t[0].roundedCorners),se(n,"class","window-wrap svelte-1d6rse5"),se(e,"class","bg svelte-1d6rse5"),se(e,"style",t[10])},m(u,c){Qt(u,e,c),Zt(e,n),Zt(n,r),f&&f.m(r,null),Zt(r,o),Zt(r,i),s&&qe(s,i,null),t[36](r),t[37](n),t[38](e),l=!0,a||(h=[ie(r,"introstart",(function(){Dt(t[6])&&t[6].apply(this,arguments)})),ie(r,"outrostart",(function(){Dt(t[7])&&t[7].apply(this,arguments)})),ie(r,"introend",(function(){Dt(t[8])&&t[8].apply(this,arguments)})),ie(r,"outroend",(function(){Dt(t[9])&&t[9].apply(this,arguments)})),ie(e,"click",t[19])],a=!0)},p(n,u){(t=n)[0].closeButton?f?(f.p(t,u),1&u[0]&&Ne(f,1)):(f=Qe(t),f.c(),Ne(f,1),f.m(r,o)):f&&(Be(),De(f,1,1,(()=>{f=null})),Me());const c=4&u[0]?Fe(d,[Ue(t[2])]):{};if(p!==(p=t[1])){if(s){Be();const t=s;De(t.$$.fragment,1,0,(()=>{Ke(t,1)})),Me()}p?(s=new p(y()),Ge(s.$$.fragment),Ne(s.$$.fragment,1),qe(s,i,null)):s=null}else p&&s.$set(c);(!l||4096&u[0])&&se(i,"style",t[12]),1&u[0]&&ae(i,"rounded-corners",t[0].roundedCorners),(!l||2048&u[0])&&se(r,"style",t[11]),1&u[0]&&ae(r,"rounded-corners",t[0].roundedCorners),(!l||1024&u[0])&&se(e,"style",t[10])},i(n){l||(Ne(f),s&&Ne(s.$$.fragment,n),Ce((()=>{u||(u=We(r,t[15],t[0].transitionWindowProps,!0)),u.run(1)})),Ce((()=>{c||(c=We(e,t[14],t[0].transitionBgProps,!0)),c.run(1)})),l=!0)},o(n){De(f),s&&De(s.$$.fragment,n),u||(u=We(r,t[15],t[0].transitionWindowProps,!1)),u.run(0),c||(c=We(e,t[14],t[0].transitionBgProps,!1)),c.run(0),l=!1},d(n){n&&te(e),f&&f.d(),s&&Ke(s),t[36](null),n&&u&&u.end(),t[37](null),t[38](null),n&&c&&c.end(),a=!1,Nt(h)}}}function Qe(t){let e,n,r,o,i;const s=[en,tn],u=[];function c(t,n){return 1&n[0]&&(e=!!t[16](t[0].closeButton)),e?0:1}return n=c(t,[-1]),r=u[n]=s[n](t),{c(){r.c(),o=oe()},m(t,e){u[n].m(t,e),Qt(t,o,e),i=!0},p(t,e){let i=n;n=c(t,e),n===i?u[n].p(t,e):(Be(),De(u[i],1,1,(()=>{u[i]=null})),Me(),r=u[n],r?r.p(t,e):(r=u[n]=s[n](t),r.c()),Ne(r,1),r.m(o.parentNode,o))},i(t){i||(Ne(r),i=!0)},o(t){De(r),i=!1},d(t){u[n].d(t),t&&te(o)}}}function tn(t){let e,n,r;return{c(){e=ee("button"),se(e,"class","close svelte-1d6rse5"),se(e,"style",t[13])},m(o,i){Qt(o,e,i),n||(r=ie(e,"click",t[17]),n=!0)},p(t,n){8192&n[0]&&se(e,"style",t[13])},i:It,o:It,d(t){t&&te(e),n=!1,r()}}}function en(t){let e,n,r;var o=t[0].closeButton;function i(t){return{props:{onClose:t[17]}}}return o&&(e=new o(i(t))),{c(){e&&Ge(e.$$.fragment),n=oe()},m(t,o){e&&qe(e,t,o),Qt(t,n,o),r=!0},p(t,r){if(o!==(o=t[0].closeButton)){if(e){Be();const t=e;De(t.$$.fragment,1,0,(()=>{Ke(t,1)})),Me()}o?(e=new o(i(t)),Ge(e.$$.fragment),Ne(e.$$.fragment,1),qe(e,n.parentNode,n)):e=null}},i(t){r||(e&&Ne(e.$$.fragment,t),r=!0)},o(t){e&&De(e.$$.fragment,t),r=!1},d(t){t&&te(n),e&&Ke(e,t)}}}function nn(t){let e,n,r,o,i=t[1]&&Ze(t);const s=t[35].default,u=Ut(s,t,t[34],null);return{c(){i&&i.c(),e=re(),u&&u.c()},m(s,c){i&&i.m(s,c),Qt(s,e,c),u&&u.m(s,c),n=!0,r||(o=ie(window,"keydown",t[18]),r=!0)},p(t,n){t[1]?i?(i.p(t,n),2&n[0]&&Ne(i,1)):(i=Ze(t),i.c(),Ne(i,1),i.m(e.parentNode,e)):i&&(Be(),De(i,1,1,(()=>{i=null})),Me()),u&&u.p&&8&n[1]&&qt(u,s,t,t[34],n,null,null)},i(t){n||(Ne(i),Ne(u,t),n=!0)},o(t){De(i),De(u,t),n=!1},d(t){i&&i.d(t),t&&te(e),u&&u.d(t),r=!1,o()}}}function rn(t,e,n){let{$$slots:r={},$$scope:o}=e,{key:i="simple-modal"}=e,{closeButton:s=!0}=e,{closeOnEsc:u=!0}=e,{closeOnOuterClick:c=!0}=e,{roundedCorners:l=!0}=e,{styleBg:a={top:0,left:0}}=e,{styleWindow:h={}}=e,{styleContent:f={}}=e,{styleCloseButton:d={}}=e,{setContext:p=me}=e,{transitionBg:y=Je}=e,{transitionBgProps:v={duration:150}}=e,{transitionWindow:b=y}=e,{transitionWindowProps:g=v}=e;const m={closeButton:s,closeOnEsc:u,closeOnOuterClick:c,roundedCorners:l,styleBg:a,styleWindow:h,styleContent:f,styleCloseButton:d,transitionBg:y,transitionBgProps:v,transitionWindow:b,transitionWindowProps:g};let w,_,$,x={...m},S=null,E=null;const O=t=>Object.keys(t).reduce(((e,n)=>`${e}; ${(t=>t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${t[n]}`),""),k=()=>{};let C=k,P=k,L=k,R=k;const A=(t={})=>{n(7,P=t.onClose||P),n(9,R=t.onClosed||R),n(1,S=null),n(2,E=null)};let T,I,j,H,B,M;return p(i,{open:(t,e={},r={},o={})=>{n(1,S=t),n(2,E=e),n(0,x={...m,...r}),n(6,C=o.onOpen||k),n(7,P=o.onClose||k),n(8,L=o.onOpened||k),n(9,R=o.onClosed||k)},close:A}),t.$$set=t=>{"key"in t&&n(20,i=t.key),"closeButton"in t&&n(21,s=t.closeButton),"closeOnEsc"in t&&n(22,u=t.closeOnEsc),"closeOnOuterClick"in t&&n(23,c=t.closeOnOuterClick),"roundedCorners"in t&&n(24,l=t.roundedCorners),"styleBg"in t&&n(25,a=t.styleBg),"styleWindow"in t&&n(26,h=t.styleWindow),"styleContent"in t&&n(27,f=t.styleContent),"styleCloseButton"in t&&n(28,d=t.styleCloseButton),"setContext"in t&&n(29,p=t.setContext),"transitionBg"in t&&n(30,y=t.transitionBg),"transitionBgProps"in t&&n(31,v=t.transitionBgProps),"transitionWindow"in t&&n(32,b=t.transitionWindow),"transitionWindowProps"in t&&n(33,g=t.transitionWindowProps),"$$scope"in t&&n(34,o=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(10,T=O(x.styleBg)),1&t.$$.dirty[0]&&n(11,I=O(x.styleWindow)),1&t.$$.dirty[0]&&n(12,j=O(x.styleContent)),1&t.$$.dirty[0]&&n(13,H=O(x.styleCloseButton)),1&t.$$.dirty[0]&&n(14,B=x.transitionBg),1&t.$$.dirty[0]&&n(15,M=x.transitionWindow)},[x,S,E,w,_,$,C,P,L,R,T,I,j,H,B,M,t=>ze.isPrototypeOf(t),A,t=>{if(x.closeOnEsc&&S&&"Escape"===t.key&&(t.preventDefault(),A()),S&&"Tab"===t.key){const e=$.querySelectorAll("*"),n=Array.from(e).filter((t=>t.tabIndex>=0));let r=n.indexOf(document.activeElement);-1===r&&t.shiftKey&&(r=0),r+=n.length+(t.shiftKey?-1:1),r%=n.length,n[r].focus(),t.preventDefault()}},t=>{!x.closeOnOuterClick||t.target!==w&&t.target!==_||(t.preventDefault(),A())},i,s,u,c,l,a,h,f,d,p,y,v,b,g,o,r,function(t){_e[t?"unshift":"push"]((()=>{$=t,n(5,$)}))},function(t){_e[t?"unshift":"push"]((()=>{_=t,n(4,_)}))},function(t){_e[t?"unshift":"push"]((()=>{w=t,n(3,w)}))}]}class on extends Ye{constructor(t){super(),Xe(this,t,rn,nn,Vt,{key:20,closeButton:21,closeOnEsc:22,closeOnOuterClick:23,roundedCorners:24,styleBg:25,styleWindow:26,styleContent:27,styleCloseButton:28,setContext:29,transitionBg:30,transitionBgProps:31,transitionWindow:32,transitionWindowProps:33},[-1,-1])}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var sn,un,cn=(function(t,e){t.exports=function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function e(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function n(t,n,r){this.root=null,this._routes=[],this._useHash=n,this._hash=void 0===r?"#":r,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!n&&e(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod="pushState",t?this.root=n?t.replace(/\/$/,"/"+this._hash):t.replace(/\/$/,""):n&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,"/"+this._hash)),this._listen(),this.updatePageLinks()}function r(t){return t instanceof RegExp?t:t.replace(/\/+$/,"").replace(/^\/+/,"^/")}function o(t){return t.replace(/\/$/,"").split("/").length}function i(t,e){return o(e)-o(t)}function s(t,e){return function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((function(e){var o=function(t){var e=[];return{regexp:t instanceof RegExp?t:new RegExp(t.replace(n.PARAMETER_REGEXP,(function(t,r,o){return e.push(o),n.REPLACE_VARIABLE_REGEXP})).replace(n.WILDCARD_REGEXP,n.REPLACE_WILDCARD)+n.FOLLOWED_BY_SLASH_REGEXP,n.MATCH_REGEXP_FLAGS),paramNames:e}}(r(e.route)),i=o.regexp,s=o.paramNames,u=t.replace(/^\/+/,"/").match(i),c=function(t,e){return 0===e.length?null:t?t.slice(1,t.length).reduce((function(t,n,r){return null===t&&(t={}),t[e[r]]=decodeURIComponent(n),t}),null):null}(u,s);return!!u&&{match:u,route:e,params:c}})).filter((function(t){return t}))}(t,e)[0]||!1}function u(t,e){var n=e.map((function(e){return""===e.route||"*"===e.route?t:t.split(new RegExp(e.route+"($|/)"))[0]})),o=r(t);return n.length>1?n.reduce((function(t,e){return t.length>e.length&&(t=e),t}),n[0]):1===n.length?n[0]:o}function c(t,n,r){var o,i=function(t){return t.split(/\?(.*)?$/)[0]};return void 0===r&&(r="#"),e()&&!n?i(t).split(r)[0]:(o=t.split(r)).length>1?i(o[1]):i(o[0])}function l(e,n,r){if(n&&"object"===(void 0===n?"undefined":t(n))){if(n.before)return void n.before((function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e(),n.after&&n.after(r))}),r);if(n.after)return e(),void(n.after&&n.after(r))}e()}return n.prototype={helpers:{match:s,root:u,clean:r,getOnlyURL:c},navigate:function(t,e){var n;return t=t||"",this._usePushState?(n=(n=(e?"":this._getRoot()+"/")+t.replace(/^\/+/,"/")).replace(/([^:])(\/{2,})/g,"$1/"),history[this._historyAPIUpdateMethod]({},"",n),this.resolve()):"undefined"!=typeof window&&(t=t.replace(new RegExp("^"+this._hash),""),window.location.href=window.location.href.replace(/#$/,"").replace(new RegExp(this._hash+".*$"),"")+this._hash+t),this},on:function(){for(var e=this,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if("function"==typeof r[0])this._defaultHandler={handler:r[0],hooks:r[1]};else if(r.length>=2)if("/"===r[0]){var s=r[1];"object"===t(r[1])&&(s=r[1].uses),this._defaultHandler={handler:s,hooks:r[2]}}else this._add(r[0],r[1],r[2]);else"object"===t(r[0])&&Object.keys(r[0]).sort(i).forEach((function(t){e.on(t,r[0][t])}));return this},off:function(t){return null!==this._defaultHandler&&t===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&t===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce((function(e,n){return n.handler!==t&&e.push(n),e}),[]),this},notFound:function(t,e){return this._notFoundHandler={handler:t,hooks:e},this},resolve:function(t){var n,r,o=this,i=(t||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(i=i.replace(new RegExp("^/"+this._hash),"/"));var u=function(t){return t.split(/\?(.*)?$/).slice(1).join("")}(t||this._cLoc()),a=c(i,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&a===this._lastRouteResolved.url&&u===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(r=s(a,this._routes))?(this._callLeave(),this._lastRouteResolved={url:a,query:u,hooks:r.route.hooks,params:r.params,name:r.route.name},n=r.route.handler,l((function(){l((function(){r.route.route instanceof RegExp?n.apply(void 0,r.match.slice(1,r.match.length)):n(r.params,u)}),r.route.hooks,r.params,o._genericHooks)}),this._genericHooks,r.params),r):this._defaultHandler&&(""===a||"/"===a||a===this._hash||function(t,n,r){if(e()&&!n)return!1;if(!t.match(r))return!1;var o=t.split(r);return o.length<2||""===o[1]}(a,this._useHash,this._hash))?(l((function(){l((function(){o._callLeave(),o._lastRouteResolved={url:a,query:u,hooks:o._defaultHandler.hooks},o._defaultHandler.handler(u)}),o._defaultHandler.hooks)}),this._genericHooks),!0):(this._notFoundHandler&&l((function(){l((function(){o._callLeave(),o._lastRouteResolved={url:a,query:u,hooks:o._notFoundHandler.hooks},o._notFoundHandler.handler(u)}),o._notFoundHandler.hooks)}),this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),"undefined"!=typeof window&&(window.removeEventListener("popstate",this._onLocationChange),window.removeEventListener("hashchange",this._onLocationChange))},updatePageLinks:function(){var t=this;"undefined"!=typeof document&&this._findLinks().forEach((function(e){e.hasListenerAttached||(e.addEventListener("click",(function(n){if((n.ctrlKey||n.metaKey)&&"a"==n.target.tagName.toLowerCase())return!1;var r=t.getLinkPath(e);t._destroyed||(n.preventDefault(),t.navigate(r.replace(/\/+$/,"").replace(/^\/+/,"/")))})),e.hasListenerAttached=!0)}))},generate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce((function(n,r){var o;if(r.name===t)for(o in n=r.route,e)n=n.toString().replace(":"+o,e[o]);return n}),"");return this._useHash?this._hash+n:n},link:function(t){return this._getRoot()+t},pause:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=t,this._historyAPIUpdateMethod=t?"replaceState":"pushState"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(t){return void 0===t?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=t,t)},disableIfAPINotAvailable:function(){e()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(t){return t.getAttribute("href")},hooks:function(t){this._genericHooks=t},_add:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof e&&(e=encodeURI(e)),this._routes.push("object"===(void 0===n?"undefined":t(n))?{route:e,handler:n.uses,name:n.as,hooks:r||n.hooks}:{route:e,handler:n,hooks:r}),this._add},_getRoot:function(){return null!==this.root||(this.root=u(this._cLoc().split("?")[0],this._routes)),this.root},_listen:function(){var t=this;if(this._usePushState)window.addEventListener("popstate",this._onLocationChange);else if("undefined"!=typeof window&&"onhashchange"in window)window.addEventListener("hashchange",this._onLocationChange);else{var e=this._cLoc(),n=void 0,r=void 0;(r=function(){n=t._cLoc(),e!==n&&(e=n,t.resolve()),t._listeningInterval=setTimeout(r,200)})()}},_cLoc:function(){return"undefined"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:r(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){var t=this._lastRouteResolved;t&&t.hooks&&t.hooks.leave&&t.hooks.leave(t.params)}},n.PARAMETER_REGEXP=/([:*])(\w+)/g,n.WILDCARD_REGEXP=/\*/g,n.REPLACE_VARIABLE_REGEXP="([^/]+)",n.REPLACE_WILDCARD="(?:.*)",n.FOLLOWED_BY_SLASH_REGEXP="(?:/$|$)",n.MATCH_REGEXP_FLAGS="",n}()}(un={path:sn,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&un.path)}},un.exports),un.exports);const ln=[];function an(t,e){return{subscribe:hn(t,e).subscribe}}function hn(t,e=It){let n;const r=[];function o(e){if(Vt(t,e)&&(t=e,n)){const e=!ln.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),ln.push(n,t)}if(e){for(let t=0;t<ln.length;t+=2)ln[t][0](ln[t+1]);ln.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,s=It){const u=[i,s];return r.push(u),1===r.length&&(n=e(o)||It),i(t),()=>{const t=r.indexOf(u);-1!==t&&r.splice(t,1),0===r.length&&(n(),n=null)}}}}function fn(t,e,n){const r=!Array.isArray(t),o=r?[t]:t,i=e.length<2;return an(n,(t=>{let n=!1;const s=[];let u=0,c=It;const l=()=>{if(u)return;c();const n=e(r?s[0]:s,t);i?t(n):c=Dt(n)?n:It},a=o.map(((t,e)=>Wt(t,(t=>{s[e]=t,u&=~(1<<e),n&&l()}),(()=>{u|=1<<e}))));return n=!0,l(),function(){Nt(a),c()}}))}function dn(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const pn=an(null,(function(t){t(dn());const e=()=>{t(dn())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));fn(pn,(t=>t.location)),fn(pn,(t=>t.querystring));async function yn(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await ke(),history.replaceState({scrollX:window.scrollX,scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}const vn=new mt(null),bn=new mt(null);let gn=null;function mn(t){if(gn&&t)throw"there is already one router set. Multiple routers per app are not supported yet";gn=t}class wn{constructor(t){this.path=t}execute(){console.warn("redirecting to",this.path),async function(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await ke();const e=("#"==t.charAt(0)?"":"#")+t;try{window.history.replaceState(void 0,void 0,e)}catch(t){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}(this.path)}}function _n(t){return new wn(t)}let $n=new mt(null);function xn(){return $n.value?Promise.resolve($n.value):xt(Et.value,"auth")}function Sn(){return wt(this,void 0,void 0,(function*(){const t=yield xn();t&&t.getTransaction().hasManipulations()&&(t.commit(),console.log("AUTOSAVE FINISHED!"))}))}function En(t){let e,n,r;const o=[t[2]];var i=t[1];function s(t){let e={};for(let t=0;t<o.length;t+=1)e=Ht(e,o[t]);return{props:e}}return i&&(e=new i(s())),{c(){e&&Ge(e.$$.fragment),n=oe()},m(t,o){e&&qe(e,t,o),Qt(t,n,o),r=!0},p(t,r){const u=4&r?Fe(o,[Ue(t[2])]):{};if(i!==(i=t[1])){if(e){Be();const t=e;De(t.$$.fragment,1,0,(()=>{Ke(t,1)})),Me()}i?(e=new i(s()),Ge(e.$$.fragment),Ne(e.$$.fragment,1),qe(e,n.parentNode,n)):e=null}else i&&e.$set(u)},i(t){r||(e&&Ne(e.$$.fragment,t),r=!0)},o(t){e&&De(e.$$.fragment,t),r=!1},d(t){t&&te(n),e&&Ke(e,t)}}}function On(t){let e,n,r=t[0]&&t[1]&&En(t);return{c(){r&&r.c(),e=oe()},m(t,o){r&&r.m(t,o),Qt(t,e,o),n=!0},p(t,[n]){t[0]&&t[1]?r?(r.p(t,n),3&n&&Ne(r,1)):(r=En(t),r.c(),Ne(r,1),r.m(e.parentNode,e)):r&&(Be(),De(r,1,1,(()=>{r=null})),Me())},i(t){n||(Ne(r),n=!0)},o(t){De(r),n=!1},d(t){r&&r.d(t),t&&te(e)}}}function kn(t,e,n){let r;var o,i,s,u;Ft(t,bn,(t=>n(19,r=t)));let{routes:c=null}=e,{routerContext:l=null}=e,{guard:a=null}=e,{componentWhenLocked:h=null}=e,{notFoundComponent:f=null}=e,d=null,p=null,y=null,v=null,b=!1,g=!1,m=null;ge((()=>{mn(null)}));const w=(t,e)=>({after(r){!function(t,e,r){var o,i;vn.value!==t&&(console.log("%c next path: ","color: lime",t),vn.next(t),Sn()),d!==e&&n(11,d=e),y===e.component||bt(y)&&bt(e.component)||(y=null!==(o=e.component)&&void 0!==o?o:null),gt(bn.value,e.componentParams,!0)||bn.next(null!==(i=e.componentParams)&&void 0!==i?i:null),gt(v,r,!0)||n(14,v=null!=r?r:null)}(t,e,r)}});let _,$,x=null;return t.$$set=t=>{"routes"in t&&n(3,c=t.routes),"routerContext"in t&&n(0,l=t.routerContext),"guard"in t&&n(4,a=t.guard),"componentWhenLocked"in t&&n(5,h=t.componentWhenLocked),"notFoundComponent"in t&&n(6,f=t.notFoundComponent)},t.$$.update=()=>{if(32785&t.$$.dirty)if(a&&l){const t=Boolean(a(l));b!==t&&n(15,b=t)}else n(15,b=!1);if(131144&t.$$.dirty&&(n(11,d=null),y=null,n(14,v=null),x&&(mn(null),x.destroy()),c&&(n(17,x=new cn(null,!0)),mn(x),Object.entries(c).forEach((([t,e])=>{const n="/"===t?"":t;console.log("%cregistering route","color: yellow",t),x.on(n,{as:t,uses(){}},w(t,e))})),x.notFound((()=>{f||console.error("notFound route reached. notFoundComponent is not specified in the Router component"),y=null!=f?f:null,null!==bn.value&&bn.next(null),n(14,v=null)})),x.resolve())),6528&t.$$.dirty&&p!==(null!==n(7,o=null==d?void 0:d.guard)&&void 0!==o?o:null)&&n(12,p=null!==n(8,i=null==d?void 0:d.guard)&&void 0!==i?i:null),69633&t.$$.dirty)if(p&&l){const t=Boolean(p(l));g!==t&&n(16,g=t)}else n(16,g=!1);if(540672&t.$$.dirty&&n(18,_=v?r?Object.assign(Object.assign({},v),r):v:null!=r?r:null),101922&t.$$.dirty){const t=b?null!=h?h:null:g?null!==n(9,s=null==d?void 0:d.whenLocked)&&void 0!==s?s:null:null!==n(10,u=null==d?void 0:d.component)&&void 0!==u?u:null;m!==t&&n(1,m=t)}2&t.$$.dirty&&m instanceof wn&&(m.execute(),n(1,m=null)),360448&t.$$.dirty&&n(2,$=b||g?null:_),4&t.$$.dirty&&console.log("%crenderingParams","color: cyan",$)},[l,m,$,c,a,h,f]}Et.pipe(ct((t=>t?K(xt(t,"auth")):j(null)))).subscribe($n);class Cn extends Ye{constructor(t){super(),Xe(this,t,kn,On,Vt,{routes:3,routerContext:0,guard:4,componentWhenLocked:5,notFoundComponent:6})}}const Pn="/",Ln="/login",Rn="/profile",An=new Map;[].forEach((t=>{t.forEach((e=>{An.set(e,t)}))}));const Tn=new mt(!1),In=(new mt(!1),t=>({})),jn=t=>({});function Hn(t){let e,n,r;const o=t[3].paper,i=Ut(o,t,t[2],jn),s=t[3].default,u=Ut(s,t,t[2],null);return{c(){e=ee("main"),i&&i.c(),n=re(),u&&u.c(),se(e,"class","svelte-1sw81td"),ae(e,"two-papers",t[0]>1)},m(t,o){Qt(t,e,o),i&&i.m(e,null),Zt(e,n),u&&u.m(e,null),r=!0},p(t,[n]){i&&i.p&&4&n&&qt(i,o,t,t[2],n,In,jn),u&&u.p&&4&n&&qt(u,s,t,t[2],n,null,null),1&n&&ae(e,"two-papers",t[0]>1)},i(t){r||(Ne(i,t),Ne(u,t),r=!0)},o(t){De(i,t),De(u,t),r=!1},d(t){t&&te(e),i&&i.d(t),u&&u.d(t)}}}function Bn(t,e,n){let{$$slots:r={},$$scope:o}=e,{itemCount:i=1}=e,{showMenu:s=!1}=e;return s!==Tn.value&&(document.documentElement.style.setProperty("--safeAreaInsetLeft","var(--mainMenuWidth)"),document.documentElement.style.setProperty("--safeAreaInsetRight","var(--mainLangMenuWidth)"),Tn.next(s)),t.$$set=t=>{"itemCount"in t&&n(0,i=t.itemCount),"showMenu"in t&&n(1,s=t.showMenu),"$$scope"in t&&n(2,o=t.$$scope)},[i,s,o,r]}class Mn extends Ye{constructor(t){super(),Xe(this,t,Bn,Hn,Vt,{itemCount:0,showMenu:1})}}function Nn(t){let e,n,r;return{c(){e=ee("input"),se(e,"type","password"),se(e,"autocomplete","new-password"),se(e,"placeholder","password"),se(e,"class","svelte-127xnet")},m(o,i){Qt(o,e,i),le(e,t[1]),n||(r=ie(e,"input",t[8]),n=!0)},p(t,n){2&n&&e.value!==t[1]&&le(e,t[1])},d(t){t&&te(e),n=!1,r()}}}function Dn(t){let e,n,r;return{c(){e=ee("input"),se(e,"type","text"),se(e,"autocomplete","new-password"),se(e,"placeholder","password"),se(e,"class","svelte-127xnet")},m(o,i){Qt(o,e,i),le(e,t[1]),n||(r=ie(e,"input",t[7]),n=!0)},p(t,n){2&n&&e.value!==t[1]&&le(e,t[1])},d(t){t&&te(e),n=!1,r()}}}function Vn(t){let e,n;return{c(){e=ee("div"),n=ne(t[3]),se(e,"class","error svelte-127xnet")},m(t,r){Qt(t,e,r),Zt(e,n)},p(t,e){8&e&&ce(n,t[3])},d(t){t&&te(e)}}}function Wn(t){let e,n,r,o,i,s,u,c,l,a,h,f,d,p,y,v,b,g,m,w,_,$;function x(t,e){return t[2]?Dn:Nn}let S=x(t),E=S(t),O=t[3]&&Vn(t);return{c(){e=ee("article"),n=ee("figure"),n.innerHTML='<img alt="TF" width="150" src="static/images/logo-tf-orange.svg" class="svelte-127xnet"/>',r=re(),o=ee("figure"),o.innerHTML='<ion-icon src="static/icons/profile-login.svg" class="svelte-127xnet"></ion-icon>',i=re(),s=ee("div"),u=ee("div"),c=ee("div"),l=ee("ion-icon"),a=re(),h=ee("input"),f=re(),d=ee("div"),p=ee("div"),y=ee("ion-icon"),b=re(),E.c(),g=re(),O&&O.c(),m=re(),w=ee("button"),w.textContent="Login",se(n,"class","svelte-127xnet"),se(o,"class","svelte-127xnet"),ue(l,"name","mail-outline"),ue(l,"class","svelte-127xnet"),se(h,"type","email"),se(h,"placeholder","email"),se(h,"class","svelte-127xnet"),se(c,"class","ico-item svelte-127xnet"),se(u,"class","label svelte-127xnet"),ue(y,"name",v=t[2]?"lock-open-outline":"lock-closed-outline"),ue(y,"class","svelte-127xnet"),se(p,"class","ico-item svelte-127xnet"),se(d,"class","label svelte-127xnet"),se(w,"type","button"),se(w,"class","submit svelte-127xnet"),se(s,"class","form sign-in svelte-127xnet"),se(e,"class","svelte-127xnet")},m(v,x){Qt(v,e,x),Zt(e,n),Zt(e,r),Zt(e,o),Zt(e,i),Zt(e,s),Zt(s,u),Zt(u,c),Zt(c,l),Zt(c,a),Zt(c,h),le(h,t[0]),Zt(s,f),Zt(s,d),Zt(d,p),Zt(p,y),Zt(p,b),E.m(p,null),Zt(s,g),O&&O.m(s,null),Zt(s,m),Zt(s,w),_||($=[ie(h,"input",t[6]),ie(y,"click",t[5]),ie(w,"click",t[4])],_=!0)},p(t,[e]){1&e&&h.value!==t[0]&&le(h,t[0]),4&e&&v!==(v=t[2]?"lock-open-outline":"lock-closed-outline")&&ue(y,"name",v),S===(S=x(t))&&E?E.p(t,e):(E.d(1),E=S(t),E&&(E.c(),E.m(p,null))),t[3]?O?O.p(t,e):(O=Vn(t),O.c(),O.m(s,m)):O&&(O.d(1),O=null)},i:It,o:It,d(t){t&&te(e),E.d(),O&&O.d(),_=!1,Nt($)}}}function Fn(t,e,n){let r,o="",i=!1,s="";return[r,o,i,s,function(){(function(t,e){return wt(this,void 0,void 0,(function*(){const n=$T.tribefire.js.model.config.RemoteSessionConfig.create();return n.credentials=$tf.credentials.userPassword(t,e),n.servicesUrl=$t,$tf.remote.sessionFactory.open(n).then((t=>(_t=t,_t)))}))})(r,o).then((t=>{Et.set(t),yn("/profile")})).catch((t=>{console.log(t.DetailMessage),n(3,s=t.DetailMessage)}))},t=>{n(2,i=!i)},function(){r=this.value,n(0,r)},function(){o=this.value,n(1,o)},function(){o=this.value,n(1,o)}]}class Un extends Ye{constructor(t){super(),Xe(this,t,Fn,Wn,Vt,{})}}function Gn(t){let e,n;return e=new Un({}),{c(){Ge(e.$$.fragment)},m(t,r){qe(e,t,r),n=!0},i(t){n||(Ne(e.$$.fragment,t),n=!0)},o(t){De(e.$$.fragment,t),n=!1},d(t){Ke(e,t)}}}function qn(t){let e,n;return e=new Mn({props:{$$slots:{default:[Gn]},$$scope:{ctx:t}}}),{c(){Ge(e.$$.fragment)},m(t,r){qe(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Ne(e.$$.fragment,t),n=!0)},o(t){De(e.$$.fragment,t),n=!1},d(t){Ke(e,t)}}}class Kn extends Ye{constructor(t){super(),Xe(this,t,null,qn,Vt,{})}}function Xn(t){let e,n,r,o,i,s,u,c,l,a,h,f,d,p,y,v,b,g,m,w,_,$,x,S,E,O,k,C,P,L,R,A,T,I,j,H,B,M,N,D,V,W,F,U,G,q,K=(t[1]??"")+"",X=(t[2]??"")+"",Y=(t[3]??"")+"",z=t[4]?t[4].includes("tf-admin")?"superuser":"user":"";return{c(){var G,q,J;e=ee("article"),n=ee("div"),n.innerHTML='<h1 class="svelte-1eusadp">Profile</h1>',r=re(),o=ee("ion-item"),i=ee("div"),s=ee("div"),u=ee("ion-avatar"),c=ee("img"),a=re(),h=ee("ion-button"),h.textContent="Log Out",f=re(),d=ee("ion-list"),p=ee("ion-item"),y=ee("ion-label"),v=ee("p"),v.textContent="First Name",b=re(),g=ee("p"),m=ne(K),w=ne(" "),_=re(),$=ee("ion-item"),x=ee("ion-label"),S=ee("p"),S.textContent="Last Name",E=re(),O=ee("p"),k=ne(X),C=ne(" "),P=re(),L=ee("ion-item"),R=ee("ion-label"),A=ee("p"),A.textContent="Email",T=re(),I=ee("p"),j=ne(Y),H=ne(" "),B=re(),M=ee("ion-item"),N=ee("ion-label"),D=ee("p"),D.textContent="User Tye",V=re(),W=ee("p"),F=ne(z),U=ne("\n             "),se(n,"class","page-header svelte-1eusadp"),c.src!==(l=t[0]??null)&&se(c,"src",l),se(c,"alt",""),G="background-color",q="white",c.style.setProperty(G,q,J?"important":""),ue(u,"class","profile-pic svelte-1eusadp"),se(s,"class","border-pic svelte-1eusadp"),ue(h,"color","primary"),ue(h,"expand","full"),se(i,"class","avatar-sign-out-button svelte-1eusadp"),se(i,"slot","start"),se(v,"class","label"),se(g,"class","value svelte-1eusadp"),ue(p,"lines","none"),se(S,"class","label"),se(O,"class","value svelte-1eusadp"),ue($,"lines","none"),se(A,"class","label"),se(I,"class","value svelte-1eusadp"),ue(L,"lines","none"),se(D,"class","label"),se(W,"class","value svelte-1eusadp"),ue(M,"lines","none"),ue(o,"class","left-line svelte-1eusadp"),ue(o,"lines","none"),se(e,"class","profile-view svelte-1eusadp")},m(l,K){Qt(l,e,K),Zt(e,n),Zt(e,r),Zt(e,o),Zt(o,i),Zt(i,s),Zt(s,u),Zt(u,c),Zt(i,a),Zt(i,h),Zt(o,f),Zt(o,d),Zt(d,p),Zt(p,y),Zt(y,v),Zt(y,b),Zt(y,g),Zt(g,m),Zt(g,w),Zt(d,_),Zt(d,$),Zt($,x),Zt(x,S),Zt(x,E),Zt(x,O),Zt(O,k),Zt(O,C),Zt(d,P),Zt(d,L),Zt(L,R),Zt(R,A),Zt(R,T),Zt(R,I),Zt(I,j),Zt(I,H),Zt(d,B),Zt(d,M),Zt(M,N),Zt(N,D),Zt(N,V),Zt(N,W),Zt(W,F),Zt(W,U),G||(q=ie(h,"click",t[5]),G=!0)},p(t,[e]){1&e&&c.src!==(l=t[0]??null)&&se(c,"src",l),2&e&&K!==(K=(t[1]??"")+"")&&ce(m,K),4&e&&X!==(X=(t[2]??"")+"")&&ce(k,X),8&e&&Y!==(Y=(t[3]??"")+"")&&ce(j,Y),16&e&&z!==(z=t[4]?t[4].includes("tf-admin")?"superuser":"user":"")&&ce(F,z)},i:It,o:It,d(t){t&&te(e),G=!1,q()}}}function Yn(t,e,n){let r,o;Ft(t,Et,(t=>n(6,r=t))),Ft(t,Ot,(t=>n(7,o=t)));var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}c((r=r.apply(t,e||[])).next())}))};let s,u,c,l,a;return t.$$.update=()=>{128&t.$$.dirty&&n(0,s=null==o?void 0:o.pictureUrl),128&t.$$.dirty&&n(1,u=null==o?void 0:o.firstName),128&t.$$.dirty&&n(2,c=null==o?void 0:o.lastName),128&t.$$.dirty&&n(3,l=null==o?void 0:o.email),128&t.$$.dirty&&n(4,a=null==o?void 0:o.sessionRoles)},[s,u,c,l,a,function(){return i(this,void 0,void 0,(function*(){St(r,yield xn()),Et.set(null),Ot.set(null),yn(Ln)}))}]}class zn extends Ye{constructor(t){super(),Xe(this,t,Yn,Xn,Vt,{})}}function Jn(t){let e,n;return e=new zn({}),{c(){Ge(e.$$.fragment)},m(t,r){qe(e,t,r),n=!0},i(t){n||(Ne(e.$$.fragment,t),n=!0)},o(t){De(e.$$.fragment,t),n=!1},d(t){Ke(e,t)}}}function Zn(t){let e,n;return e=new Mn({props:{showMenu:!0,$$slots:{default:[Jn]},$$scope:{ctx:t}}}),{c(){Ge(e.$$.fragment)},m(t,r){qe(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Ne(e.$$.fragment,t),n=!0)},o(t){De(e.$$.fragment,t),n=!1},d(t){Ke(e,t)}}}const Qn=({isAuthenticatingViaSessionId:t})=>t,tr={[Rn]:{component:class extends Ye{constructor(t){super(),Xe(this,t,null,Zn,Vt,{})}},guard:({isSignedIn:t})=>!t,whenLocked:Kn},[Ln]:{component:Kn,guard:({isSignedIn:t})=>t,whenLocked:_n(Rn)},[Pn]:{component:_n(Rn)}};var er=J((function(){var t=new x;return function(t){be().$$.on_mount.push(t)}((function(){t.next()})),t.asObservable().pipe(nt(1))})),nr=J((function(){var t=new x;return ge((function(){t.next()})),t.asObservable().pipe(nt(1))}));function rr(t){let e,n;return e=new Cn({props:{routerContext:t[0],guard:Qn,routes:tr}}),{c(){Ge(e.$$.fragment)},m(t,r){qe(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.routerContext=t[0]),e.$set(r)},i(t){n||(Ne(e.$$.fragment,t),n=!0)},o(t){De(e.$$.fragment,t),n=!1},d(t){Ke(e,t)}}}function or(t){let e,n,r;return n=new on({props:{$$slots:{default:[rr]},$$scope:{ctx:t}}}),{c(){e=ee("ion-app"),Ge(n.$$.fragment),ue(e,"mode","ios")},m(t,o){Qt(t,e,o),qe(n,e,null),r=!0},p(t,[e]){const r={};9&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(Ne(n.$$.fragment,t),r=!0)},o(t){De(n.$$.fragment,t),r=!1},d(t){t&&te(e),Ke(n)}}}function ir(t,e,n){let r,o;var i;let s;return Ft(t,Ct,(t=>n(1,r=t))),Ft(t,Pt,(t=>n(2,o=t))),er.pipe(ct((()=>Z(15e3))),ct((()=>Sn())),(i=nr,function(t){return t.lift(new ht(i))})).subscribe((()=>{})),t.$$.update=()=>{6&t.$$.dirty&&n(0,s={isAuthenticatingViaSessionId:r,isSignedIn:o})},[s]}const sr=new class extends Ye{constructor(t){super(),Xe(this,t,ir,or,Vt,{})}}({target:document.body});export default sr;
